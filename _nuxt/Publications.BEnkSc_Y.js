import{D as C,r as p,M as m,o as v,a as g,d as r,t as h,v as V,bT as L,F as k,j,m as y,z as B,a6 as I,a7 as M,aj as N,_ as T}from"./entry.kNh3a2ls.js";import{_ as F}from"./Publication.vue.CP6Sp33p.js";import{_ as U}from"./Pagination.vue.Bnzgn_jz.js";import"./AbstractAccordion.1LulfAAs.js";const x=l=>(I("data-v-76706c7b"),l=l(),M(),l),D={class:"publications"},$={class:"header rvt-flex rvt-ts-xs rvt-items-center rvt-justify-space-between"},z={class:"search"},A=x(()=>r("label",{for:"search",class:"rvt-label rvt-sr-only"},"Search",-1)),E={class:"sort rvt-flex rvt-items-center"},J=x(()=>r("label",{for:"sort-by",class:"rvt-label rvt-text-uppercase rvt-text-medium w-100"},"Sort By:",-1)),K=N('<option disabled value="" data-v-76706c7b>Select a Field</option><option value="title" data-v-76706c7b>Title</option><option value="author" data-v-76706c7b>Author</option><option value="journal" data-v-76706c7b>Journal</option><option value="year" data-v-76706c7b>Year</option>',5),Y=[K],q=C({__name:"Publications",props:{perPage:{type:Number,default:5},pubs:{type:Array,default:()=>[]}},setup(l){const c=l,d=p(1),b=p(null),i=p(""),n=p(""),u=m(()=>{let a=c.pubs;if(i.value){const e=i.value.toLowerCase();a=a.filter(t=>{var s,o,f,_;return((s=t.title)==null?void 0:s.toLowerCase().includes(e))||((o=t.author)==null?void 0:o.toLowerCase().includes(e))||((f=t.journal)==null?void 0:f.toLowerCase().includes(e))||((_=t.year)==null?void 0:_.toString().includes(e))})}return n.value&&(a=[...a].sort((e,t)=>{const s=e[n.value],o=t[n.value];return typeof s=="string"&&typeof o=="string"?s.localeCompare(o):typeof s=="number"&&typeof o=="number"?s-o:s!==void 0&&o!==void 0?s.toString().localeCompare(o.toString()):0})),a}),P=m(()=>{var a;return Math.ceil(((a=u.value)==null?void 0:a.length)/c.perPage)}),S=m(()=>{var t;const a=(d.value-1)*c.perPage,e=a+c.perPage;return(t=u==null?void 0:u.value)==null?void 0:t.slice(a,e)}),w=a=>{var e;d.value=a,(e=b.value)==null||e.scrollIntoView()};return(a,e)=>(v(),g("div",D,[r("div",$,[r("div",z,[A,h(r("input",{id:"search","onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),type:"text",class:"rvt-text-input rvt-c-input",placeholder:"Search"},null,512),[[V,i.value]])]),r("div",E,[J,h(r("select",{id:"sort-by","onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),class:"rvt-select rvt-c-select w-100"},Y,512),[[L,n.value]])])]),r("div",{ref_key:"pubsList",ref:b,class:"publications-list rvt-p-tb-lg"},[(v(!0),g(k,null,j(S.value,(t,s)=>(v(),y(F,{key:s,pub:t},null,8,["pub"]))),128)),l.pubs.length>l.perPage?(v(),y(U,{key:0,"total-pages":P.value,"current-page":d.value,"onUpdate:currentPage":w},null,8,["total-pages","current-page"])):B("",!0)],512)]))}}),R=T(q,[["__scopeId","data-v-76706c7b"]]);export{R as default};
